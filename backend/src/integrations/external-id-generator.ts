import { randomUUID } from 'crypto';

const ADJECTIVES = [
  'cosmic',
  'crystal',
  'golden',
  'silver',
  'blazing',
  'frozen',
  'midnight',
  'stellar',
  'radiant',
  'velvet',
  'emerald',
  'crimson',
  'silent',
  'rapid',
  'ancient',
  'bright',
  'calm',
  'deep',
  'fierce',
  'gentle',
  'hollow',
  'iron',
  'jade',
  'keen',
  'lunar',
  'mystic',
  'noble',
  'omega',
  'primal',
  'quiet',
  'royal',
  'swift',
  'tidal',
  'ultra',
  'vivid',
  'wild',
  'zen',
  'amber',
  'bold',
  'cedar',
  'dawn',
  'echo',
  'flint',
  'granite',
  'harbor',
  'ivory',
];

const NOUNS = [
  'falcon',
  'phoenix',
  'summit',
  'cascade',
  'nebula',
  'voyager',
  'cipher',
  'atlas',
  'beacon',
  'comet',
  'delta',
  'ember',
  'forge',
  'glacier',
  'helix',
  'iris',
  'jaguar',
  'kestrel',
  'lancer',
  'meteor',
  'nexus',
  'orbit',
  'pulse',
  'quasar',
  'raven',
  'sentry',
  'titan',
  'umbra',
  'vertex',
  'wraith',
  'zenith',
  'anchor',
  'breeze',
  'coral',
  'drift',
  'flare',
  'grove',
  'haven',
  'inlet',
  'karma',
  'lotus',
  'marsh',
  'oasis',
  'peak',
];

export function generateExternalId(): string {
  return randomUUID();
}

export function formatExternalIdForDisplay(externalId: string): string {
  const hex = externalId.replace(/-/g, '');
  const adjIdx = parseInt(hex.slice(0, 2), 16) % ADJECTIVES.length;
  const nounIdx = parseInt(hex.slice(2, 4), 16) % NOUNS.length;
  const shortId = hex.slice(0, 8);
  return `${ADJECTIVES[adjIdx]}-${NOUNS[nounIdx]}-${shortId}`;
}
