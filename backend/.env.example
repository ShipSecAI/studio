# ShipSec backend environment defaults

# Primary Postgres database connection
DATABASE_URL="postgresql://shipsec:shipsec@localhost:5433/shipsec"

# HTTP server configuration
PORT="3211"

# Temporal connection details
TEMPORAL_ADDRESS="localhost:7233"
TEMPORAL_NAMESPACE="shipsec-dev"
TEMPORAL_TASK_QUEUE="shipsec-dev"
# Automatically create and run a demo workflow on startup
TEMPORAL_BOOTSTRAP_DEMO="false"

# MinIO credentials for artifact storage
MINIO_ROOT_USER="minioadmin"
MINIO_ROOT_PASSWORD="minioadmin"

# Loki configuration for log retrieval
LOKI_URL="http://localhost:3100"
# Optional: multi-tenant org / basic auth credentials
LOKI_TENANT_ID=""
LOKI_USERNAME=""
LOKI_PASSWORD=""

# Authentication configuration
# Set AUTH_PROVIDER="local" to enable developer mode or "clerk" to integrate with the platform identity service.
AUTH_PROVIDER="local"

# Local provider options
# If AUTH_LOCAL_ALLOW_UNAUTHENTICATED=false, clients must present AUTH_LOCAL_API_KEY in the Authorization header.
AUTH_LOCAL_ALLOW_UNAUTHENTICATED="true"
AUTH_LOCAL_API_KEY=""
# Required in production for session auth cookie signing
SESSION_SECRET=""

# Clerk provider options
# Required when AUTH_PROVIDER="clerk"
CLERK_PUBLISHABLE_KEY=""
CLERK_SECRET_KEY=""

# Platform service account (optional, used for auth enrichment + workflow linkage)
PLATFORM_API_URL=""
PLATFORM_SERVICE_TOKEN=""
# Optional: override request timeout in milliseconds (default 5000)
PLATFORM_API_TIMEOUT_MS=""

# OpenSearch configuration for security analytics indexing
# Optional: if not set, security analytics indexing will be disabled
OPENSEARCH_URL=""
OPENSEARCH_USERNAME=""
OPENSEARCH_PASSWORD=""

# OpenSearch Dashboards configuration for analytics visualization
# Optional: if not set, Dashboards link will not appear in frontend sidebar
# Dev/Prod (via nginx): "http://localhost/analytics"
# Custom domain: "https://dashboards.example.com/analytics"
OPENSEARCH_DASHBOARDS_URL=""

# Secret encryption key (must be exactly 32 characters, NOT hex-encoded)
# Generate with: openssl rand -base64 24 | head -c 32
SECRET_STORE_MASTER_KEY="CHANGE_ME_32_CHAR_SECRET_KEY!!!!"

# Redis configuration for rate limiting and caching
# Optional: if not set, rate limiting will use in-memory storage (not recommended for production)
REDIS_URL=""

# Kafka / Redpanda configuration for node I/O, log, and event ingestion
LOG_KAFKA_BROKERS="localhost:19092"
